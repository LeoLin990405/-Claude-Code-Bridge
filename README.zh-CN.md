<div align="center">

# ğŸ¤– CCB Gateway

**ä¼ä¸šçº§å¤š AI ç¼–æ’å¹³å°**

è®© Claude æˆä¸ºæ™ºèƒ½ç¼–æ’è€…ï¼Œç»Ÿä¸€ç®¡ç† 10 ä¸ª AI Providerï¼Œé…å¤‡ LLM é©±åŠ¨çš„è®°å¿†ç³»ç»Ÿã€æ™ºèƒ½è·¯ç”±å’Œå®æ—¶ç›‘æ§ã€‚

[![Version](https://img.shields.io/badge/version-0.24.1-brightgreen)](https://github.com/LeoLin990405/ai-router-ccb/releases)
[![License](https://img.shields.io/github/license/LeoLin990405/ai-router-ccb?color=blue)](LICENSE)
[![Python](https://img.shields.io/badge/Python-3.9+-3776AB?logo=python&logoColor=white)](https://www.python.org)
[![Stars](https://img.shields.io/github/stars/LeoLin990405/ai-router-ccb?style=social)](https://github.com/LeoLin990405/ai-router-ccb)

[å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹) â€¢ [åŠŸèƒ½ç‰¹æ€§](#-åŠŸèƒ½ç‰¹æ€§) â€¢ [ä½¿ç”¨æ–‡æ¡£](#-ä½¿ç”¨æ–‡æ¡£)

[ğŸ‡ºğŸ‡¸ English](README.md) | **ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡**

<img src="screenshots/webui-demo.gif" alt="CCB Gateway æ¼”ç¤º" width="800">

</div>

---

## ğŸ“– ç›®å½•

- [ä»€ä¹ˆæ˜¯ CCB Gatewayï¼Ÿ](#-ä»€ä¹ˆæ˜¯-ccb-gateway)
- [å¿«é€Ÿå¼€å§‹](#-å¿«é€Ÿå¼€å§‹)
- [æ ¸å¿ƒåŠŸèƒ½](#-æ ¸å¿ƒåŠŸèƒ½)
- [ç³»ç»Ÿæ¶æ„](#-ç³»ç»Ÿæ¶æ„)
- [ä½¿ç”¨æ–‡æ¡£](#-ä½¿ç”¨æ–‡æ¡£)
- [API å‚è€ƒ](#-api-å‚è€ƒ)
- [å¼€å‘è·¯çº¿](#-å¼€å‘è·¯çº¿)
- [è´¡çŒ®æŒ‡å—](#-è´¡çŒ®æŒ‡å—)
- [å¼€æºè®¸å¯](#-å¼€æºè®¸å¯)

---

## ğŸŒŸ ä»€ä¹ˆæ˜¯ CCB Gatewayï¼Ÿ

**CCB Gateway** æ˜¯ç”Ÿäº§çº§çš„å¤š AI ç¼–æ’å¹³å°ï¼Œ**Claude ä½œä¸ºæ™ºèƒ½ç¼–æ’è€…**ï¼Œé€šè¿‡ç»Ÿä¸€çš„ Gateway API å°†ä»»åŠ¡è·¯ç”±åˆ° 10 ä¸ªä¸“ä¸š AI Providerï¼ˆåŒ…æ‹¬ Antigravity æœ¬åœ°ä»£ç†ï¼‰ï¼Œæä¾› LLM é©±åŠ¨çš„è®°å¿†ç³»ç»Ÿã€æ™ºèƒ½è·¯ç”±å’Œå®æ—¶ç›‘æ§ã€‚

### ä¸ºä»€ä¹ˆé€‰æ‹© CCB Gatewayï¼Ÿ

<table>
<tr>
<td width="50%">

**âŒ æ²¡æœ‰ CCB Gateway**

- å¤šä¸ª CLI æ¥å£ï¼Œç®¡ç†å¤æ‚
- æ‰‹åŠ¨é€‰æ‹© Providerï¼Œæ•ˆç‡ä½ä¸‹
- ä¼šè¯ä¹‹é—´æ— è®°å¿†
- ä¸Šä¸‹æ–‡ä¸¢å¤±ï¼ŒAI ä¸çŸ¥é“å¯ç”¨å·¥å…·
- æ— æ³•è§‚å¯Ÿæ“ä½œè¿‡ç¨‹
- AI ä¹‹é—´æ— æ³•åä½œ
- å¤±è´¥è¯·æ±‚æµªè´¹æ—¶é—´

</td>
<td width="50%">

**âœ… ä½¿ç”¨ CCB Gateway**

- **ç»Ÿä¸€ Gateway API** - ä¸€ä¸ªæ¥å£è°ƒç”¨å…¨éƒ¨
- **æ™ºèƒ½è·¯ç”±** - è‡ªåŠ¨é€‰æ‹©æœ€ä½³ AI
- **åŒç³»ç»Ÿè®°å¿†** - å¿«é€Ÿ + æ·±åº¦å¤„ç†
- **é¢„åŠ è½½ä¸Šä¸‹æ–‡** - 55 ä¸ª Skills è‡ªåŠ¨åµŒå…¥
- **å®æ—¶ä»ªè¡¨ç›˜** - å®Œå…¨å¯è§‚æµ‹
- **å¤š AI è®¨è®º** - åä½œå¼é—®é¢˜è§£å†³
- **é‡è¯•ä¸é™çº§** - å†…ç½®å¼¹æ€§æœºåˆ¶

</td>
</tr>
</table>

### æ”¯æŒçš„ AI Providerï¼ˆ10 ä¸ªï¼‰

| Provider | é€Ÿåº¦ | ç‰¹é•¿ | å“åº”æ—¶é—´ |
|----------|:----:|------|----------|
| **Antigravity** | ğŸš€ | æœ¬åœ° Claude 4.5 ä»£ç†ï¼Œæ— é™è®¿é—® | 3-8ç§’ |
| **Kimi** | ğŸš€ | ä¸­æ–‡å¯¹è¯ï¼Œé•¿æ–‡æœ¬ (128k) | 7ç§’ |
| **Qwen** | ğŸš€ | ä»£ç ç”Ÿæˆï¼Œå¤šè¯­è¨€ | 12ç§’ |
| **DeepSeek** | âš¡ | æ·±åº¦æ¨ç†ï¼Œç®—æ³•åˆ†æ | 16ç§’ |
| **iFlow** | âš¡ | å·¥ä½œæµè‡ªåŠ¨åŒ– | 25ç§’ |
| **Codex** | ğŸ¢ | ä»£ç å®¡æŸ¥ï¼Œå¤æ‚é‡æ„ | 48ç§’ |
| **Gemini** | ğŸ¢ | å‰ç«¯å¼€å‘ï¼Œå¤šæ¨¡æ€ | 71ç§’ |
| **Claude** | âš¡ | é€šç”¨ä»»åŠ¡ | 30ç§’ |
| **Qoder** | âš¡ | ç¼–ç¨‹ä»»åŠ¡ | 30ç§’ |
| **OpenCode** | âš¡ | å¤šæ¨¡å‹åˆ‡æ¢ | 42ç§’ |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®æ¡ä»¶

- **Python 3.9+**
- **Node.js 16+**ï¼ˆç”¨äº MCP serversï¼‰
- **Git**

### å®‰è£…æ­¥éª¤

```bash
# 1. å…‹éš†ä»“åº“
git clone https://github.com/LeoLin990405/ai-router-ccb.git
cd ai-router-ccb

# 2. å®‰è£…ä¾èµ–
pip install -r requirements.txt
npm install

# 3. é…ç½® AI Provider
# ç¼–è¾‘ ~/.claude/ ä¸­çš„é…ç½®æ–‡ä»¶æˆ–è®¾ç½®ç¯å¢ƒå˜é‡
```

### å¯åŠ¨ Gateway

```bash
# å¯åŠ¨ Gateway Server
python3 -m lib.gateway.gateway_server --port 8765

# è¾“å‡ºç¤ºä¾‹ï¼š
# [SystemContext] Preloading system information...
# [SystemContext] Loaded 55 skills
# [SystemContext] Loaded 10 providers
# [MemoryMiddleware] Initialized (enabled=True)
# âœ“ Server running at http://localhost:8765
```

### ç¬¬ä¸€ä¸ªè¯·æ±‚

```bash
# ä½¿ç”¨ ccb-cliï¼ˆæ¨èï¼‰
ccb-cli kimi "è§£é‡Š React Hooks"

# æˆ–ä½¿ç”¨ curl
curl -X POST http://localhost:8765/api/ask \
  -H "Content-Type: application/json" \
  -d '{
    "provider": "kimi",
    "message": "è§£é‡Š React Hooks",
    "wait": true,
    "timeout": 60
  }'
```

### è®¿é—® Web UI

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š**http://localhost:8765/web**

---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ§  åŒç³»ç»Ÿè®°å¿†ï¼ˆv0.20-v0.23ï¼‰

<details>
<summary><b>çµæ„Ÿæ¥è‡ªäººç±»è®¤çŸ¥çš„è®°å¿†æ¶æ„</b></summary>

**System 1ï¼ˆå¿«é€Ÿï¼‰** - è‡ªåŠ¨å½’æ¡£ä¼šè¯ä¸Šä¸‹æ–‡
- åœ¨ `/clear` æˆ– `/compact` æ—¶è‡ªåŠ¨è§¦å‘
- è§£æ session.jsonlï¼Œæå–å…³é”®æ¶ˆæ¯
- ä¿å­˜ä¸º Markdown å½’æ¡£

**System 2ï¼ˆæ·±åº¦ï¼‰** - å¤œé—´æ•´åˆå¤„ç†
- å‡Œæ™¨ 3 ç‚¹è‡ªåŠ¨è¿è¡Œæˆ–æ‰‹åŠ¨è§¦å‘
- æŒ‰é¡¹ç›®/ä¸»é¢˜èšç±»è®°å¿†
- æå–æ¨¡å¼å’Œå­¦ä¹ è¦ç‚¹
- ç”Ÿæˆç»“æ„åŒ–é•¿æœŸè®°å¿†

**å¯å‘å¼æ£€ç´¢ï¼ˆv0.22ï¼‰**
```
æœ€ç»ˆåˆ†æ•° = Î± Ã— ç›¸å…³æ€§ + Î² Ã— é‡è¦æ€§ + Î³ Ã— æ—¶æ•ˆæ€§
é»˜è®¤æƒé‡ï¼šÎ±=0.4, Î²=0.3, Î³=0.3
```

**LLM é©±åŠ¨çš„å…³é”®è¯æå–ï¼ˆv0.23ï¼‰**
- ä½¿ç”¨ Ollama + qwen2.5:7b å®ç°è¯­ä¹‰ç†è§£
- ä¼˜ç§€çš„ä¸­æ–‡ + è‹±æ–‡å…³é”®è¯æå–
- 1-2 ç§’æœ¬åœ°æ¨ç†ï¼Œ95%+ å‡†ç¡®ç‡

**å‘½ä»¤ç¤ºä¾‹ï¼š**
```bash
ccb-mem save                      # ä¿å­˜å½“å‰ä¼šè¯
ccb-mem consolidate --hours 24    # æ•´åˆæœ€è¿‘ 24 å°æ—¶
ccb-mem search "è®¤è¯"              # æœç´¢è®°å¿†
ccb-mem search-scored "è®¤è¯" --limit 5  # å¯å‘å¼è¯„åˆ†æœç´¢
```

</details>

### ğŸ  Antigravity Tools é›†æˆï¼ˆv0.24+ï¼‰

<details>
<summary><b>æœ¬åœ° Claude 4.5 Sonnet ä»£ç†</b></summary>

**æ ¸å¿ƒä¼˜åŠ¿ï¼š**
- ğŸš€ **è¶…å¿«é€Ÿåº¦** - 3-8 ç§’å“åº”æ—¶é—´ï¼ˆæœ¬åœ°ä»£ç†ï¼‰
- ğŸ”“ **æ— é™è®¿é—®** - æ— é€Ÿç‡é™åˆ¶æˆ– token é…é¢
- ğŸ¯ **æœ€æ–°æ¨¡å‹** - Claude 4.5 Sonnetï¼Œå¸¦æ€è€ƒèƒ½åŠ›
- ğŸ”Œ **åŒ API æ”¯æŒ** - Claude API + OpenAI API å…¼å®¹

**å¿«é€Ÿä½¿ç”¨ï¼š**
```bash
# é€šè¿‡ Gateway è°ƒç”¨
ccb-cli antigravity "ä½ çš„é—®é¢˜"
ccb-cli antigravity -a sisyphus "ä¿®å¤è¿™ä¸ª bug"

# ç›´æ¥æµ‹è¯•
curl -X POST http://127.0.0.1:8045/v1/messages \
  -H "x-api-key: YOUR_KEY" \
  -d '{"model":"claude-sonnet-4-5-20250929","messages":[...]}'
```

**v0.24.1 ä¿®å¤ï¼š**
- âœ… æ™ºèƒ½ API Key æ£€æµ‹ï¼ˆç¯å¢ƒå˜é‡ + ç›´æ¥é…ç½®ï¼‰
- âœ… HTTP Backend å¢å¼º
- âœ… Gateway å¯åŠ¨åŒ…è£…å™¨
- âœ… å‘åå…¼å®¹

ğŸ“– **è¯¦ç»†æ–‡æ¡£ï¼š** [Antigravity Tools æŒ‡å—](docs/ANTIGRAVITY_TOOLS_GUIDE.md)

</details>

### ğŸ”€ CC Switch é›†æˆï¼ˆv0.23.1ï¼‰

<details>
<summary><b>é«˜çº§ Provider ç®¡ç†å’Œå¹¶è¡Œæµ‹è¯•</b></summary>

**æ ¸å¿ƒåŠŸèƒ½ï¼š**
- ğŸ”€ **æ•…éšœè½¬ç§»é˜Ÿåˆ—** - åŸºäºä¼˜å…ˆçº§çš„è‡ªåŠ¨ Provider åˆ‡æ¢
- âš¡ **å¹¶è¡Œæµ‹è¯•** - åŒæ—¶æµ‹è¯•å¤šä¸ª Provider
- ğŸ“Š **Provider ç›‘æ§** - å®æ—¶å¥åº·çŠ¶æ€å’ŒæŒ‡æ ‡
- ğŸ¯ **æ€§èƒ½å¯¹æ¯”** - æ¯”è¾ƒå»¶è¿Ÿå’Œå“åº”è´¨é‡

**CLI å‘½ä»¤ï¼š**
```bash
ccb-cc-switch status              # Provider çŠ¶æ€
ccb-cc-switch reload              # é‡æ–°åŠ è½½é…ç½®
ccb-cc-switch test "è§£é‡Šé€’å½’"     # å¹¶è¡Œæµ‹è¯•æ‰€æœ‰
ccb-cc-switch test "é—®é¢˜" -p "åé‡åŠ›" -p "Kimi" -t 60
```

**API ç«¯ç‚¹ï¼š**
```
GET  /api/cc-switch/status
POST /api/cc-switch/reload
POST /api/cc-switch/parallel-test
GET  /api/cc-switch/failover-queue
```

</details>

### ğŸ” æŠ€èƒ½å‘ç°

<details>
<summary><b>è‡ªåŠ¨å‘ç°å’Œæ¨èç›¸å…³ Claude Code Skills</b></summary>

é›†æˆ [Vercel Skills](https://github.com/vercel-labs/skills)ï¼Œè‡ªåŠ¨å‘ç°æœ¬åœ°å’Œè¿œç¨‹æŠ€èƒ½ã€‚

**å·¥ä½œæµç¨‹ï¼š**
```
ç”¨æˆ·è¯·æ±‚ â†’ æå–å…³é”®è¯ â†’ æœç´¢æŠ€èƒ½ï¼ˆæœ¬åœ° + è¿œç¨‹ï¼‰
                           â†“
            æ³¨å…¥æ¨èåˆ°ä¸Šä¸‹æ–‡
```

**ä½¿ç”¨ç¤ºä¾‹ï¼š**
```bash
# Gateway è‡ªåŠ¨å‘ç°
ccb-cli kimi "å¸®æˆ‘åˆ›å»º PDF"
# [MemoryMiddleware] ğŸ’¡ å‘ç° 1 ä¸ªç›¸å…³ Skill: /pdf

# æ‰‹åŠ¨æœç´¢
ccb-skills recommend "åˆ›å»ºç”µå­è¡¨æ ¼"
ccb-skills stats
```

</details>

### ğŸ¤ å¤š AI è®¨è®º

<details>
<summary><b>åä½œå¼é—®é¢˜è§£å†³</b></summary>

å¤šä¸ª AI è®¨è®ºå¹¶è¾¾æˆå…±è¯†ï¼š

```bash
ccb-submit discuss \
  --providers kimi,codex,gemini \
  --rounds 3 \
  --strategy "consensus" \
  "è®¾è®¡å¯æ‰©å±•çš„å¾®æœåŠ¡æ¶æ„"
```

**èšåˆç­–ç•¥ï¼š**
- **consensus** - æ‰€æœ‰ AI å¿…é¡»åŒæ„
- **majority** - å¤šæ•°ç­”æ¡ˆè·èƒœ
- **first_success** - ç¬¬ä¸€ä¸ªæœ‰æ•ˆå“åº”
- **best_quality** - æœ€é«˜è´¨é‡ï¼ˆè¯„åˆ†ï¼‰

</details>

### ğŸ“Š å®æ—¶ç›‘æ§

<details>
<summary><b>åŸºäº WebSocket çš„ä»ªè¡¨ç›˜</b></summary>

è®¿é—®ï¼š**http://localhost:8765/web**

**åŠŸèƒ½æ ‡ç­¾ï¼š**
1. **Dashboard** - æ¦‚è§ˆå’ŒæŒ‡æ ‡
2. **Monitor** - å®æ—¶è¯·æ±‚ç›‘æ§
3. **Memory** - 6 ä¸ªå­æ ‡ç­¾ï¼ˆSessionsã€Observationsã€Injections ç­‰ï¼‰
4. **Skills** - Skills å‘ç°å’Œåé¦ˆ
5. **Discussions** - å¤š AI åä½œ
6. **Requests** - è¯·æ±‚å†å²å’Œè·Ÿè¸ª
7. **Settings** - ç³»ç»Ÿé…ç½® + API å¯†é’¥

**å®æ—¶æ•°æ®ï¼š**
- è¯·æ±‚æ•°é‡ã€æˆåŠŸç‡ã€å¹³å‡å»¶è¿Ÿ
- Provider çŠ¶æ€å’Œå¥åº·æ£€æŸ¥
- å¾…å¤„ç†/å¤„ç†ä¸­/å·²å®Œæˆé˜Ÿåˆ—
- WebSocket æ¨é€çš„å®æ—¶æ—¥å¿—

</details>

### âš¡ æ™ºèƒ½è·¯ç”±ä¸é™çº§

<details>
<summary><b>åŸºäºé€Ÿåº¦åˆ†çº§çš„è‡ªåŠ¨é™çº§</b></summary>

```yaml
å¿«é€Ÿå±‚ï¼ˆ3-15ç§’ï¼‰ï¼š   Kimi â†’ Qwen â†’ DeepSeek
ä¸­é€Ÿå±‚ï¼ˆ15-45ç§’ï¼‰ï¼š  iFlow â†’ Qoder â†’ OpenCode â†’ Claude
æ…¢é€Ÿå±‚ï¼ˆ45-90ç§’ï¼‰ï¼š  Codex â†’ Gemini
```

**åŠŸèƒ½ç‰¹æ€§ï¼š**
- ğŸ¯ åŸºäºä»»åŠ¡å…³é”®è¯çš„æ™ºèƒ½ Provider æ¨è
- ğŸ”„ æŒ‡æ•°é€€é¿çš„è‡ªåŠ¨é‡è¯•
- ğŸ“‰ å¼¹æ€§é™çº§é“¾
- âš–ï¸ è·¨ Provider è´Ÿè½½å‡è¡¡

</details>

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ¶æ„æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   CCB Gateway (v0.24.1)                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚         åŒç³»ç»Ÿè®°å¿† + LLM å…³é”®è¯æå–          â”‚      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚  â”‚  System 1: ContextSaver (å¿«é€Ÿè‡ªåŠ¨å½’æ¡£)       â”‚      â”‚
â”‚  â”‚  System 2: MemoryConsolidator (å¤œé—´æ•´åˆ)     â”‚      â”‚
â”‚  â”‚  Heuristic Retrieval (Î±R + Î²I + Î³T)          â”‚      â”‚
â”‚  â”‚  LLM Keyword Extraction (Ollama + qwen2.5)   â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                          â”‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚          Gateway Server æ ¸å¿ƒ                  â”‚      â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤      â”‚
â”‚  â”‚  â€¢ è¯·æ±‚é˜Ÿåˆ—ï¼ˆå¼‚æ­¥ï¼‰                           â”‚      â”‚
â”‚  â”‚  â€¢ é‡è¯•æ‰§è¡Œå™¨                                 â”‚      â”‚
â”‚  â”‚  â€¢ ç¼“å­˜ç®¡ç†å™¨ (Redis-like TTL)                â”‚      â”‚
â”‚  â”‚  â€¢ é€Ÿç‡é™åˆ¶å™¨                                 â”‚      â”‚
â”‚  â”‚  â€¢ æŒ‡æ ‡æ”¶é›†å™¨ (Prometheus)                    â”‚      â”‚
â”‚  â”‚  â€¢ CC Switch é›†æˆ                             â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â”‚                          â”‚                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â” â”‚
â”‚  â–¼     â–¼     â–¼      â–¼    â–¼    â–¼       â–¼       â–¼     â–¼ â”‚
â”‚ Anti  Kimi Qwen Deep Codex Gemini iFlow Claude Others  â”‚
â”‚ grav.                 Seek                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è®°å¿†ç³»ç»Ÿæµç¨‹

```
ä¼šè¯æ´»åŠ¨
    â”‚
    â”œâ”€â†’ [System 1: Context Saver]
    â”‚   â”œâ”€â†’ ç”± /clear æˆ– /compact è§¦å‘
    â”‚   â”œâ”€â†’ è§£æ session.jsonl
    â”‚   â”œâ”€â†’ æå–å…³é”®æ¶ˆæ¯å’Œå·¥å…·è°ƒç”¨
    â”‚   â””â”€â†’ ä¿å­˜åˆ° ~/.ccb/ccb_memory.db
    â”‚
    â””â”€â†’ [System 2: Memory Consolidator]
        â”œâ”€â†’ å¤œé—´ï¼ˆå‡Œæ™¨ 3 ç‚¹ï¼‰æˆ–æ‰‹åŠ¨è¿è¡Œ
        â”œâ”€â†’ æ”¶é›†æœ€è¿‘çš„å½’æ¡£
        â”œâ”€â†’ æŒ‰é¡¹ç›®/ä¸»é¢˜èšç±»
        â”œâ”€â†’ æå–æ¨¡å¼å’Œå­¦ä¹ 
        â””â”€â†’ ä¿å­˜åˆ°æ•°æ®åº“ï¼ˆconsolidated_memoriesï¼‰
```

---

## ğŸ“š ä½¿ç”¨æ–‡æ¡£

### ccb-cli - ç»Ÿä¸€å‘½ä»¤è¡Œå·¥å…·

**æœ€å¿«çš„ AI è°ƒç”¨æ–¹å¼ï¼š**

```bash
# åŸºæœ¬ç”¨æ³•
ccb-cli <provider> [model] "<message>"

# ç¤ºä¾‹
ccb-cli kimi "å¦‚ä½•ä¼˜åŒ– SQL æŸ¥è¯¢ï¼Ÿ"
ccb-cli codex o3 "è¯æ˜åœæœºé—®é¢˜ä¸å¯åˆ¤å®š"
ccb-cli gemini 3f "è®¾è®¡å“åº”å¼å¯¼èˆªæ "
ccb-cli antigravity "åˆ†æè¿™æ®µä»£ç "

# ä½¿ç”¨ Agent è§’è‰²
ccb-cli codex o3 -a reviewer "å®¡æŸ¥è¿™ä¸ª PR"
ccb-cli kimi -a sisyphus "ä¿®å¤è¿™ä¸ª bug: ..."
```

**æ¨¡å‹å¿«æ·æ–¹å¼ï¼š**

| Provider | å¿«æ·æ–¹å¼ | è¯´æ˜ |
|----------|----------|------|
| `codex` | `o3`, `o4-mini`, `gpt-4o`, `o1-pro` | o3=æ·±åº¦æ¨ç†, o4-mini=å¿«é€Ÿ |
| `gemini` | `3f`, `3p`, `2.5f`, `2.5p` | 3f=Gemini3å¿«é€Ÿ, 3p=Gemini3ä¸“ä¸š |
| `kimi` | `thinking`, `normal` | thinking=æ€è€ƒé“¾ |
| `deepseek` | `reasoner`, `chat` | reasoner=æ¨ç†, chat=å¿«é€Ÿ |
| `antigravity` | - | æœ¬åœ° Claude 4.5 ä»£ç† |

### ccb-mem - è®°å¿†ç®¡ç†

```bash
# ä¿å­˜å½“å‰ä¼šè¯
ccb-mem save

# æ•´åˆæœ€è¿‘çš„ä¼šè¯
ccb-mem consolidate --hours 24

# å¯å‘å¼è¯„åˆ†æœç´¢
ccb-mem search-scored "è®¤è¯" --limit 5

# åˆ—å‡ºæœ€è¿‘å½’æ¡£
ccb-mem list

# è®¾ç½®è®°å¿†é‡è¦æ€§
ccb-mem importance <id> 0.8

# æŸ¥çœ‹ç»Ÿè®¡
ccb-mem stats-v2
```

### ccb-consolidate - System 2 ç®¡ç†

```bash
ccb-consolidate nightly    # å®Œæ•´åˆå¹¶æµç¨‹
ccb-consolidate decay      # åº”ç”¨æ—¶é—´è¡°å‡
ccb-consolidate merge      # åˆå¹¶ç›¸ä¼¼è®°å¿†
ccb-consolidate abstract   # ç”ŸæˆæŠ½è±¡æ‘˜è¦
ccb-consolidate forget     # æ¸…ç†è¿‡æœŸè®°å¿†
ccb-consolidate stats      # æŸ¥çœ‹åˆå¹¶ç»Ÿè®¡
```

---

## ğŸ“– API å‚è€ƒ

### æ ¸å¿ƒç«¯ç‚¹

| æ–¹æ³• | ç«¯ç‚¹ | æè¿° |
|------|------|------|
| GET | `/health` | å¥åº·æ£€æŸ¥ |
| GET | `/providers` | åˆ—å‡ºæ‰€æœ‰ 10 ä¸ª Provider |
| POST | `/api/ask` | åŒæ­¥è¯·æ±‚ï¼ˆç­‰å¾…å“åº”ï¼‰ |
| POST | `/api/submit` | å¼‚æ­¥è¯·æ±‚ï¼ˆç«‹å³è¿”å› IDï¼‰ |
| GET | `/api/query/{id}` | æŸ¥è¯¢è¯·æ±‚çŠ¶æ€ |
| GET | `/api/pending` | åˆ—å‡ºå¾…å¤„ç†è¯·æ±‚ |
| POST | `/api/cancel/{id}` | å–æ¶ˆè¯·æ±‚ |

### è®°å¿†ç³»ç»Ÿ API

| æ–¹æ³• | ç«¯ç‚¹ | æè¿° |
|------|------|------|
| GET | `/api/memory/sessions` | åˆ—å‡ºè®°å¿†ä¼šè¯ |
| GET | `/api/memory/search` | å…¨æ–‡æœç´¢ |
| GET | `/api/memory/stats` | è®°å¿†ç»Ÿè®¡ |
| POST | `/api/memory/observations` | åˆ›å»ºæ‰‹åŠ¨è®°å¿† |
| GET | `/api/memory/injections` | è·å–æ³¨å…¥è®°å¿† |

### CC Switch API

| æ–¹æ³• | ç«¯ç‚¹ | æè¿° |
|------|------|------|
| GET | `/api/cc-switch/status` | Provider çŠ¶æ€ |
| POST | `/api/cc-switch/reload` | é‡æ–°åŠ è½½é…ç½® |
| POST | `/api/cc-switch/parallel-test` | å¹¶è¡Œæµ‹è¯• |
| GET | `/api/cc-switch/failover-queue` | æ•…éšœè½¬ç§»é˜Ÿåˆ— |

### WebSocket

```
WS /ws  # å®æ—¶äº‹ä»¶æµ
```

### è¯·æ±‚ç¤ºä¾‹

**åŒæ­¥è¯·æ±‚ï¼š**
```bash
curl -X POST http://localhost:8765/api/ask \
  -H "Content-Type: application/json" \
  -d '{
    "provider": "kimi",
    "message": "è§£é‡Š React Hooks",
    "wait": true,
    "timeout": 60
  }'
```

**å¼‚æ­¥è¯·æ±‚ï¼š**
```bash
# æäº¤
curl -X POST http://localhost:8765/api/submit \
  -H "Content-Type: application/json" \
  -d '{
    "provider": "deepseek",
    "message": "åˆ†æé€’å½’æ–æ³¢é‚£å¥‘çš„æ—¶é—´å¤æ‚åº¦"
  }'
# è¿”å›ï¼š{"request_id": "abc123", "status": "pending"}

# æŸ¥è¯¢
curl http://localhost:8765/api/query/abc123
```

---

## ğŸ—ºï¸ å¼€å‘è·¯çº¿

### æœ€è¿‘å‘å¸ƒ

<details>
<summary><b>v0.24.1 (2026-02-07) - Antigravity é›†æˆä¿®å¤</b></summary>

- âœ… æ™ºèƒ½ API Key æ£€æµ‹ï¼ˆç¯å¢ƒå˜é‡ + ç›´æ¥é…ç½®ï¼‰
- âœ… HTTP Backend å¢å¼º
- âœ… Gateway å¯åŠ¨åŒ…è£…å™¨
- âœ… å‘åå…¼å®¹æ€§ä¿æŒ
- âœ… å®Œæ•´æµ‹è¯•éªŒè¯

ğŸ“– [ç³»ç»Ÿæµ‹è¯•æŠ¥å‘Š](docs/CCB_SYSTEM_TEST_2026-02-07.md)

</details>

<details>
<summary><b>v0.24 (2026-02-06) - Antigravity Tools é›†æˆ</b></summary>

- âœ… æœ¬åœ° Claude 4.5 Sonnet ä»£ç†
- âœ… 3-8 ç§’è¶…å¿«é€Ÿåº¦
- âœ… æ— é™ API è®¿é—®
- âœ… Provider ç®¡ç†æ”¹è¿›
- âœ… CC Switch æ•°æ®åº“é€‚é…å™¨ä¿®å¤

ğŸ“– [Antigravity Tools æŒ‡å—](docs/ANTIGRAVITY_TOOLS_GUIDE.md)

</details>

<details>
<summary><b>v0.23.1 (2026-02-05) - CC Switch é›†æˆ</b></summary>

- âœ… æ•…éšœè½¬ç§»é˜Ÿåˆ—
- âœ… å¹¶è¡Œæµ‹è¯•
- âœ… Provider ç›‘æ§
- âœ… Web UI ä¼˜åŒ–ï¼ˆ11 â†’ 7 æ ‡ç­¾é¡µï¼‰
- âœ… Gemini CLI åŒè·¯å¾„é›†æˆ

ğŸ“– [CC Switch é›†æˆæŒ‡å—](docs/CC_SWITCH_INTEGRATION.md)

</details>

<details>
<summary><b>v0.23 (2026-01) - LLM é©±åŠ¨çš„è®°å¿†</b></summary>

- âœ… Ollama + qwen2.5:7b å…³é”®è¯æå–
- âœ… è¯­ä¹‰ç†è§£ï¼ˆä¸­è‹±æ–‡ï¼‰
- âœ… 1-2 ç§’æœ¬åœ°æ¨ç†
- âœ… å¥å£®é™çº§æœºåˆ¶
- âœ… 95%+ å‡†ç¡®ç‡

</details>

<details>
<summary><b>v0.22 (2025-12) - å¯å‘å¼æ£€ç´¢</b></summary>

- âœ… Stanford Generative Agents è¯„åˆ†ç®—æ³•
- âœ… Î±R + Î²I + Î³T å¤šç»´æ£€ç´¢
- âœ… è‰¾å®¾æµ©æ–¯é—å¿˜æ›²çº¿
- âœ… SQLite æ•°æ®åº“å­˜å‚¨
- âœ… System 2 å¢å¼ºæ“ä½œ

</details>

### æœªæ¥è®¡åˆ’

**v0.25 (2026 Q2) - è¯­ä¹‰å¢å¼º**
- [ ] Qdrant å‘é‡æ•°æ®åº“é›†æˆ
- [ ] è¯­ä¹‰ç›¸ä¼¼åº¦æœç´¢
- [ ] å¤šè¯­è¨€åµŒå…¥
- [ ] è®°å¿†èšç±»

**v0.26 (2026 Q3) - Agent è‡ªä¸»æ€§**
- [ ] Agent è®°å¿†å‡½æ•°è°ƒç”¨ï¼ˆLetta æ¨¡å¼ï¼‰
- [ ] ç»“æ„åŒ–è®°å¿†å—ï¼ˆcore_memoryï¼‰
- [ ] è‡ªæˆ‘æ›´æ–° Agents
- [ ] è®°å¿†ç‰ˆæœ¬æ§åˆ¶

**v0.27 (2026 Q4) - å›¢é˜Ÿåä½œ**
- [ ] å¤šç”¨æˆ·è®°å¿†éš”ç¦»
- [ ] å…±äº«è®°å¿†æ± 
- [ ] æƒé™ç³»ç»Ÿ
- [ ] å®æ—¶åä½œ

---

## ğŸ“š æ–‡æ¡£èµ„æº

### æ ¸å¿ƒæŒ‡å—

- **[Antigravity Tools æŒ‡å—](docs/ANTIGRAVITY_TOOLS_GUIDE.md)** - v0.24 æœ¬åœ°ä»£ç†è®¾ç½®
- **[CC Switch é›†æˆ](docs/CC_SWITCH_INTEGRATION.md)** - v0.23.1 Provider ç®¡ç†
- **[Gemini CLI é›†æˆ](docs/GEMINI_CLI_INTEGRATION_GUIDE.md)** - v0.23.1 åŒè·¯å¾„é…ç½®
- **[Gemini è®¤è¯é…ç½®](docs/GEMINI_AUTH_SETUP.md)** - OAuth å’Œ API Key
- **[è®°å¿†ç³»ç»Ÿæ¶æ„](lib/memory/INTEGRATION_DESIGN.md)** - å®Œæ•´è®¾è®¡æ–‡æ¡£
- **[æ•°æ®åº“ç»“æ„](lib/memory/DATABASE_STRUCTURE.md)** - Schema å’ŒæŸ¥è¯¢

### æµ‹è¯•æŠ¥å‘Šï¼ˆ2026-02-07ï¼‰

- **[ç³»ç»Ÿæµ‹è¯•æŠ¥å‘Š](docs/CCB_SYSTEM_TEST_2026-02-07.md)** - Antigravity é›†æˆéªŒè¯
- **[æœ€ç»ˆæµ‹è¯•æŠ¥å‘Š](docs/CCB_FINAL_TEST_REPORT_2026-02-06.md)** - å…¨æ¨¡å—é›†æˆæµ‹è¯•
- **[é—®é¢˜è¿½è¸ª](docs/CCB_TEST_ISSUES_2026-02-06.md)** - 6 ä¸ªé—®é¢˜ä¿®å¤è¯¦æƒ…
- **[é‡æµ‹éªŒè¯](docs/CCB_RETEST_REPORT_2026-02-06.md)** - ä¿®å¤éªŒè¯ç»“æœ

**æµ‹è¯•ç»“æœæ‘˜è¦ï¼š**
- âœ… 8/9 Providers é€šè¿‡ï¼ˆ89% æˆåŠŸç‡ï¼‰
- âœ… 6/6 æœ¬åœ°é—®é¢˜ä¿®å¤ï¼ˆ100% ä¿®å¤ç‡ï¼‰
- âœ… 96% æ¨¡å—æµ‹è¯•è¦†ç›–
- â±ï¸ å¹³å‡å“åº”æ—¶é—´ï¼š3-71 ç§’ï¼ˆæŒ‰ Provider åˆ†çº§ï¼‰

---

## ğŸ¤ è´¡çŒ®æŒ‡å—

æˆ‘ä»¬æ¬¢è¿å„ç§å½¢å¼çš„è´¡çŒ®ï¼è¯·å…ˆé˜…è¯» [CONTRIBUTING.md](CONTRIBUTING.md)ã€‚

### å¿«é€Ÿå¼€å§‹

```bash
# 1. Fork å¹¶å…‹éš†
git clone https://github.com/YOUR_USERNAME/ai-router-ccb.git
cd ai-router-ccb

# 2. åˆ›å»ºåˆ†æ”¯
git checkout -b feature/your-feature

# 3. ä¿®æ”¹å¹¶æµ‹è¯•
python3 -m pytest tests/

# 4. æäº¤å¹¶æ¨é€
git commit -m "feat: add your feature"
git push origin feature/your-feature

# 5. åˆ›å»º Pull Request
```

### å¼€å‘è§„èŒƒ

- **ä»£ç é£æ ¼ï¼š** éµå¾ª PEP 8
- **æµ‹è¯•è¦†ç›–ï¼š** æ–°åŠŸèƒ½éœ€è¦å•å…ƒæµ‹è¯•
- **æ–‡æ¡£æ›´æ–°ï¼š** æ›´æ–°ç›¸å…³ README å’Œæ–‡æ¡£
- **Commit è§„èŒƒï¼š** ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/)

---

## ğŸ“œ å¼€æºè®¸å¯

æœ¬é¡¹ç›®é‡‡ç”¨ **MIT è®¸å¯è¯** - è¯¦æƒ…è¯·æŸ¥çœ‹ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

## ğŸ™ è‡´è°¢

### çµæ„Ÿæ¥æº

- [Stanford Generative Agents](https://arxiv.org/pdf/2304.03442) - å¯å‘å¼æ£€ç´¢å…¬å¼
- [Awesome-AI-Memory](https://github.com/IAAR-Shanghai/Awesome-AI-Memory) - è®°å¿†ç³»ç»Ÿç»¼è¿°
- [Mem0](https://github.com/mem0ai/mem0) - è¯­ä¹‰è®°å¿†æ¶æ„
- [Letta (MemGPT)](https://github.com/cpacker/MemGPT) - ç»“æ„åŒ–è®°å¿†å—
- [LangChain](https://github.com/langchain-ai/langchain) - è®°å¿†æ¨¡å¼
- [claude-mem](https://github.com/thedotmack/claude-mem) - ç”Ÿå‘½å‘¨æœŸé’©å­

### æ„å»ºæŠ€æœ¯

- [FastAPI](https://fastapi.tiangolo.com) - ç°ä»£ Web æ¡†æ¶
- [SQLite](https://www.sqlite.org) - å¯é æ•°æ®åº“
- [Ollama](https://ollama.com) - æœ¬åœ° LLM æ¨ç†
- [Claude Code](https://www.anthropic.com/claude) - AI ç¼–æ’è€…

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

- ğŸ› **é—®é¢˜åé¦ˆï¼š** [GitHub Issues](https://github.com/LeoLin990405/ai-router-ccb/issues)
- ğŸ“– **æ–‡æ¡£ä¸­å¿ƒï¼š** [Documentation](docs/)
- ğŸ’¬ **è®¨è®ºåŒºï¼š** [GitHub Discussions](https://github.com/LeoLin990405/ai-router-ccb/discussions)

---

<div align="center">

**ç”± CCB å›¢é˜Ÿç”¨ â¤ï¸ æ„å»º**

[â¬† å›åˆ°é¡¶éƒ¨](#-ccb-gateway)

</div>
