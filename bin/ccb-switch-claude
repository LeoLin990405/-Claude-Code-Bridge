#!/bin/bash
# CCB - Switch Claude Provider
# åœ¨ Claude å®˜æ–¹ API å’Œç¬¬ä¸‰æ–¹ä»£ç†ä¹‹é—´åˆ‡æ¢

print_usage() {
    echo "Usage: ccb-switch-claude [official|aigocode|antigravity]"
    echo ""
    echo "Options:"
    echo "  official      ä½¿ç”¨ Claude Code å®˜æ–¹ç™»å½•è®¤è¯ï¼ˆé»˜è®¤ï¼‰"
    echo "  aigocode      ä½¿ç”¨ AiGoCode ä»£ç†"
    echo "  antigravity   ä½¿ç”¨ Antigravity Tools æœ¬åœ°ä»£ç†"
    echo ""
    echo "å½“å‰é…ç½®ï¼š"
    if [[ -z "$ANTHROPIC_BASE_URL" ]]; then
        echo "  âœ“ Claude å®˜æ–¹ API (æ— è‡ªå®šä¹‰ BASE_URL)"
    else
        echo "  ANTHROPIC_BASE_URL: $ANTHROPIC_BASE_URL"
    fi
    if [[ -n "$ANTHROPIC_API_KEY" ]]; then
        echo "  ANTHROPIC_API_KEY: ${ANTHROPIC_API_KEY:0:20}..."
    fi
}

if [[ $# -eq 0 ]]; then
    print_usage
    exit 0
fi

case "$1" in
    official)
        echo "ğŸ”„ åˆ‡æ¢åˆ° Claude å®˜æ–¹ API"
        echo ""
        echo "åœ¨å½“å‰ shell æ‰§è¡Œï¼š"
        echo "  unset ANTHROPIC_BASE_URL"
        echo "  unset ANTHROPIC_API_KEY"
        echo ""
        echo "æˆ–è€…åœ¨æ–°çš„ shell ä¸­ç”Ÿæ•ˆï¼ˆå·²æ³¨é‡Š .zshrc é…ç½®ï¼‰"
        echo "  source ~/.zshrc"
        ;;

    aigocode)
        echo "ğŸ”„ åˆ‡æ¢åˆ° AiGoCode ä»£ç†"
        echo ""
        echo "åœ¨å½“å‰ shell æ‰§è¡Œï¼š"
        echo "  export ANTHROPIC_API_KEY=\"sk-5036c0b7c88aaac76975afd1bc4afe1b20b0789fc2185fafce16fe18ea28281f\""
        echo "  export ANTHROPIC_BASE_URL=\"https://api.aigocode.com\""
        echo ""
        echo "âš ï¸  è­¦å‘Šï¼šè¿™ä¼šå½±å“ Claude Code ä¸»è„‘çš„ API è°ƒç”¨"
        ;;

    antigravity)
        echo "ğŸ”„ åˆ‡æ¢åˆ° Antigravity Tools æœ¬åœ°ä»£ç†"
        echo ""
        echo "åœ¨å½“å‰ shell æ‰§è¡Œï¼š"
        echo "  export ANTHROPIC_API_KEY=\"sk-89f5748589e74b55926fb869d53e01e6\""
        echo "  export ANTHROPIC_BASE_URL=\"http://127.0.0.1:8045\""
        echo ""
        echo "âš ï¸  ç¡®ä¿ Antigravity Tools åº”ç”¨æ­£åœ¨è¿è¡Œ"
        ;;

    *)
        echo "âŒ æœªçŸ¥é€‰é¡¹: $1"
        echo ""
        print_usage
        exit 1
        ;;
esac
