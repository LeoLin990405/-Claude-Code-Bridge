<p align="center">
  <img src="https://img.shields.io/badge/AI%20Orchestrator-å¤šAIåä½œå¹³å°-blue?style=for-the-badge" alt="AI Orchestrator">
  <img src="https://img.shields.io/badge/Provider-9ä¸ª-green?style=for-the-badge" alt="Providers">
  <img src="https://img.shields.io/badge/Gateway-REST%20%2B%20WebSocket-orange?style=for-the-badge" alt="Gateway">
</p>

<h1 align="center">AI Orchestrator</h1>

<p align="center">
  <strong>ä¼ä¸šçº§å¤š AI ç¼–æ’å¹³å°</strong>
  <br>
  <em>ç»Ÿä¸€ Gateway APIã€æ™ºèƒ½è·¯ç”±ã€å®æ—¶ç›‘æ§ï¼Œæ”¯æŒ 9 ä¸ª AI Provider</em>
</p>

<p align="center">
  <a href="#-ç‰¹æ€§">ç‰¹æ€§</a> â€¢
  <a href="#-å¿«é€Ÿå¼€å§‹">å¿«é€Ÿå¼€å§‹</a> â€¢
  <a href="#-æ¶æ„">æ¶æ„</a> â€¢
  <a href="#-gateway-api">Gateway API</a> â€¢
  <a href="#-ç›‘æ§">ç›‘æ§</a> â€¢
  <a href="#-å®‰è£…">å®‰è£…</a>
</p>

<p align="center">
  <img src="https://img.shields.io/badge/Python-3.9+-3776AB?logo=python&logoColor=white" alt="Python">
  <img src="https://img.shields.io/badge/FastAPI-009688?logo=fastapi&logoColor=white" alt="FastAPI">
  <img src="https://img.shields.io/badge/SQLite-003B57?logo=sqlite&logoColor=white" alt="SQLite">
  <img src="https://img.shields.io/badge/WebSocket-010101?logo=socket.io&logoColor=white" alt="WebSocket">
  <img src="https://img.shields.io/badge/License-MIT-yellow" alt="License">
</p>

[English](README.md) | **ä¸­æ–‡**

---

## ğŸ¯ æ¦‚è¿°

**AI Orchestrator** æ˜¯ä¸€ä¸ªç”Ÿäº§çº§å¤š AI ç¼–æ’å¹³å°ï¼Œå°† 9 ä¸ª AI Provider ç»Ÿä¸€åœ¨å•ä¸€æ™ºèƒ½ Gateway API ä¸‹ã€‚å®ƒå…·å¤‡è‡ªåŠ¨ä»»åŠ¡è·¯ç”±ã€å®æ—¶æ´»åŠ¨ç›‘æ§ï¼Œä»¥åŠç°ä»£åŒ–çš„ REST/WebSocket æ¥å£ã€‚

### ä¸ºä»€ä¹ˆé€‰æ‹© AI Orchestratorï¼Ÿ

| æŒ‘æˆ˜ | è§£å†³æ–¹æ¡ˆ |
|------|----------|
| å¤šä¸ª AI CLI æ¥å£ä¸ç»Ÿä¸€ | **ç»Ÿä¸€ Gateway API**ï¼Œæ‰€æœ‰ Provider ä¸€è‡´ |
| æ‰‹åŠ¨é€‰æ‹© Provider | **æ™ºèƒ½è·¯ç”±**ï¼ŒåŸºäºä»»åŠ¡åˆ†æè‡ªåŠ¨é€‰æ‹© |
| æ— æ³•è§‚å¯Ÿ AI æ“ä½œ | **å®æ—¶ç›‘æ§**ï¼ŒWebSocket äº‹ä»¶æ¨é€ |
| ä¾èµ–ç»ˆç«¯é€šä¿¡ | **REST API + WebSocket**ï¼Œè§£è€¦æ¶æ„ |
| å¤æ‚çš„ Daemon ç®¡ç† | **æ— çŠ¶æ€ Gateway**ï¼Œæ— éœ€ Daemon |

---

## âœ¨ ç‰¹æ€§

### Gateway APIï¼ˆæ ¸å¿ƒï¼‰

| ç‰¹æ€§ | æè¿° |
|------|------|
| **REST API** | `POST /api/ask`, `GET /api/reply/{id}`, `GET /api/status` |
| **WebSocket** | å®æ—¶äº‹ä»¶æ¨é€ `/api/ws` |
| **ä¼˜å…ˆçº§é˜Ÿåˆ—** | SQLite æŒä¹…åŒ–çš„è¯·æ±‚ä¼˜å…ˆçº§é˜Ÿåˆ— |
| **å¤šåç«¯** | HTTP APIã€CLI æ‰§è¡Œã€WezTerm é›†æˆ |
| **å¥åº·ç›‘æ§** | è‡ªåŠ¨ Provider å¥åº·æ£€æŸ¥å’ŒæŒ‡æ ‡ |

### å®æ—¶ç›‘æ§

| ç‰¹æ€§ | æè¿° |
|------|------|
| **æ´»åŠ¨æ—¥å¿—** | æŸ¥çœ‹æ‰€æœ‰è¯·æ±‚ã€CLI å‘½ä»¤å’Œå“åº” |
| **Provider çŠ¶æ€** | å®æ—¶å¥åº·ã€å»¶è¿Ÿå’ŒæˆåŠŸç‡ |
| **WebSocket äº‹ä»¶** | `request_submitted`, `cli_executing`, `request_completed` |
| **WezTerm é›†æˆ** | åœ¨ç‹¬ç«‹çª—æ ¼ä¸­å¯åŠ¨ç›‘æ§ |

### æ™ºèƒ½è·¯ç”±

| ç‰¹æ€§ | æè¿° |
|------|------|
| **9 ä¸ª AI Provider** | Claude, Codex, Gemini, OpenCode, DeepSeek, iFlow, Kimi, Qwen, Droid |
| **ä»»åŠ¡åˆ†æ** | å…³é”®è¯å’Œæ–‡ä»¶æ¨¡å¼åŒ¹é… |
| **é­”æ³•å…³é”®è¯** | `@deep`, `@review`, `@all`, `@docs`, `@search` |
| **ç»Ÿä¸€ CLI** | ä¸€è‡´çš„ `*ask` / `*ping` å‘½ä»¤ |

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å¯åŠ¨ Gateway

```bash
# å¯åŠ¨ Gateway æœåŠ¡å™¨
ccb-gateway start

# æ£€æŸ¥çŠ¶æ€
ccb-gateway status

# åœ¨ WezTerm çª—æ ¼ä¸­å¯åŠ¨å®æ—¶ç›‘æ§
ccb-gateway monitor --pane
```

### å‘é€è¯·æ±‚

```bash
# é€šè¿‡ REST API
curl -X POST http://localhost:8765/api/ask \
  -H "Content-Type: application/json" \
  -d '{"provider": "gemini", "message": "ä½ å¥½"}'

# è·å–å“åº”
curl http://localhost:8765/api/reply/{request_id}?wait=true

# é€šè¿‡ CLI å‘½ä»¤
cask "ä½ çš„é—®é¢˜"   # Codex
gask "ä½ çš„é—®é¢˜"   # Gemini
dskask "ä½ çš„é—®é¢˜" # DeepSeek
kask "ä½ çš„é—®é¢˜"   # Kimi
qask "ä½ çš„é—®é¢˜"   # Qwen
```

### ç›‘æ§æ´»åŠ¨

```bash
# åœ¨å½“å‰ç»ˆç«¯è¿è¡Œç›‘æ§
ccb-monitor

# æˆ–åœ¨ WezTerm çª—æ ¼ä¸­å¯åŠ¨
ccb-gateway monitor --pane
```

---

## ğŸ—ï¸ æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        AI Orchestrator æ¶æ„                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         Gateway API å±‚                                 â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚ â”‚
â”‚  â”‚  â”‚  REST API   â”‚ â”‚  WebSocket  â”‚ â”‚  è¯·æ±‚é˜Ÿåˆ—   â”‚ â”‚  çŠ¶æ€å­˜å‚¨   â”‚     â”‚ â”‚
â”‚  â”‚  â”‚ (FastAPI)   â”‚ â”‚  (äº‹ä»¶)     â”‚ â”‚  (ä¼˜å…ˆçº§)   â”‚ â”‚  (SQLite)   â”‚     â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ï¿½ï¿½â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         ç›‘æ§æœåŠ¡                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                     â”‚ â”‚
â”‚  â”‚  â”‚  æ´»åŠ¨æ—¥å¿—   â”‚ â”‚ProviderçŠ¶æ€ â”‚ â”‚  CLI äº‹ä»¶   â”‚                     â”‚ â”‚
â”‚  â”‚  â”‚  (å®æ—¶)     â”‚ â”‚  (å¥åº·)     â”‚ â”‚  (å‘½ä»¤)     â”‚                     â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                     â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         ç»Ÿä¸€è·¯ç”±å¼•æ“                                   â”‚ â”‚
â”‚  â”‚         ä»»åŠ¡åˆ†æ â†’ Provider é€‰æ‹© â†’ é™çº§é“¾                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                           åç«¯å±‚                                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                              â”‚ â”‚
â”‚  â”‚  â”‚ HTTP API â”‚ â”‚ CLI æ‰§è¡Œ â”‚ â”‚ WezTerm  â”‚                              â”‚ â”‚
â”‚  â”‚  â”‚(Anthropicâ”‚ â”‚ (Codex,  â”‚ â”‚ (Gemini) â”‚                              â”‚ â”‚
â”‚  â”‚  â”‚ DeepSeek)â”‚ â”‚ OpenCode)â”‚ â”‚          â”‚                              â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                              â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                      Provider å±‚ (9 ä¸ª Provider)                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚ â”‚
â”‚  â”‚  â”‚Claude â”‚ â”‚ Codex â”‚ â”‚Gemini â”‚ â”‚OpenCodeâ”‚ â”‚DeepSeekâ”‚                 â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚ â”‚
â”‚  â”‚  â”‚ Droid â”‚ â”‚ iFlow â”‚ â”‚ Kimi  â”‚ â”‚  Qwen  â”‚                            â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸŒ Gateway API

### REST ç«¯ç‚¹

| æ–¹æ³• | ç«¯ç‚¹ | æè¿° |
|------|------|------|
| `POST` | `/api/ask` | å‘ Provider æäº¤è¯·æ±‚ |
| `GET` | `/api/reply/{request_id}` | è·å–å“åº”ï¼ˆæ”¯æŒ `?wait=true`ï¼‰ |
| `GET` | `/api/status` | è·å– Gateway å’Œ Provider çŠ¶æ€ |
| `DELETE` | `/api/request/{request_id}` | å–æ¶ˆå¾…å¤„ç†è¯·æ±‚ |
| `GET` | `/api/health` | å¥åº·æ£€æŸ¥ |
| `GET` | `/docs` | äº¤äº’å¼ API æ–‡æ¡£ |

### è¯·æ±‚ç¤ºä¾‹

```bash
# æäº¤è¯·æ±‚
curl -X POST http://localhost:8765/api/ask \
  -H "Content-Type: application/json" \
  -d '{
    "provider": "gemini",
    "message": "è§£é‡Š Python ä¸­çš„ async/await",
    "timeout_s": 60,
    "priority": 50
  }'

# å“åº”
{
  "request_id": "abc123-def",
  "provider": "gemini",
  "status": "queued"
}

# è·å–å“åº”ï¼ˆé˜»å¡ï¼‰
curl "http://localhost:8765/api/reply/abc123-def?wait=true&timeout=60"
```

### WebSocket äº‹ä»¶

```javascript
// è¿æ¥ WebSocket
const ws = new WebSocket('ws://localhost:8765/api/ws');

// è®¢é˜…äº‹ä»¶
ws.send(JSON.stringify({
  type: 'subscribe',
  channels: ['requests', 'providers', 'cli']
}));

// äº‹ä»¶ç±»å‹
// - request_submitted: æ–°è¯·æ±‚ï¼ŒåŒ…å«æ¶ˆæ¯é¢„è§ˆ
// - request_processing: è¯·æ±‚å¼€å§‹å¤„ç†
// - cli_executing: CLI å‘½ä»¤æ­£åœ¨æ‰§è¡Œ
// - request_completed: æˆåŠŸï¼ŒåŒ…å«å“åº”é¢„è§ˆ
// - request_failed: å¤±è´¥ï¼ŒåŒ…å«é”™è¯¯ä¿¡æ¯
```

---

## ğŸ“Š ç›‘æ§

å®æ—¶ç›‘æ§åœ¨ç»ˆç«¯ UI ä¸­æ˜¾ç¤º Gateway æ´»åŠ¨ã€‚

### åŠŸèƒ½

- **Provider çŠ¶æ€**ï¼šå¥åº·ã€é˜Ÿåˆ—æ·±åº¦ã€å»¶è¿Ÿã€æˆåŠŸç‡
- **æ´»åŠ¨æ—¥å¿—**ï¼šæ‰€æœ‰è¯·æ±‚ã€CLI å‘½ä»¤å’Œå“åº”
- **WebSocket äº‹ä»¶**ï¼šé€šè¿‡ Gateway WebSocket å®æ—¶æ›´æ–°
- **WezTerm é›†æˆ**ï¼šåœ¨ç‹¬ç«‹çª—æ ¼ä¸­å¯åŠ¨

### ä½¿ç”¨æ–¹æ³•

```bash
# åœ¨å½“å‰ç»ˆç«¯è¿è¡Œ
ccb-monitor

# åœ¨ WezTerm çª—æ ¼ä¸­å¯åŠ¨
ccb-gateway monitor --pane

# è‡ªå®šä¹‰ Gateway URL
ccb-monitor --url http://localhost:8765
```

### æ˜¾ç¤ºæ•ˆæœ

```
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  AI Orchestrator Monitor                              Uptime: 5m 23s
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

  PROVIDERS
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  â— gemini       Q: 0  Lat:  2500ms  OK: 95.0%
  â— codex        Q: 0  Lat:  5800ms  OK: 90.0%
  â— deepseek     Q: 1  Lat: 48000ms  OK: 85.0%
  â— kimi         Q: 0  Lat:  5000ms  OK: 92.0%

  STATISTICS
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  Total:     45  Active:    1  Queue:    1  Processing:   1

  ACTIVITY LOG
  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
  [14:23:15] â†’ gemini: è§£é‡Š Python ä¸­çš„ async/await...
  [14:23:15] âš™ gemini processing [abc123-d]
  [14:23:16] $ gemini: gemini -p "è§£é‡Š Python..."
  [14:23:18] âœ“ gemini (2534ms): Async/await æ˜¯ä¸€ç§æ¨¡å¼...
```

---

## ğŸ“¦ Provider

### Provider çŸ©é˜µ

| Provider | å‘½ä»¤ | åç«¯ | æœ€ä½³ç”¨é€” | çŠ¶æ€ |
|----------|------|------|----------|------|
| **Claude** | `lask` | HTTP API | æ¶æ„ã€é€šç”¨ | âœ… |
| **Codex** | `cask` | CLI æ‰§è¡Œ | åç«¯ã€API | âœ… |
| **Gemini** | `gask` | WezTermÂ¹ | å‰ç«¯ã€å®¡æŸ¥ | âœ… |
| **OpenCode** | `oask` | CLI æ‰§è¡Œ | é€šç”¨ç¼–ç  | âœ… |
| **DeepSeek** | `dskask` | CLI æ‰§è¡Œ | æ·±åº¦æ¨ç† | âœ… |
| **iFlow** | `iask` | CLI æ‰§è¡Œ | å·¥ä½œæµ | âœ… |
| **Kimi** | `kask` | CLI æ‰§è¡Œ | ä¸­æ–‡ã€é•¿ä¸Šä¸‹æ–‡ | âœ… |
| **Qwen** | `qask` | CLI æ‰§è¡Œ | å¤šè¯­è¨€ | âœ… |
| **Droid** | `dask` | ç»ˆç«¯ | è‡ªä¸»ä»»åŠ¡ | âš ï¸ |

Â¹ Gemini CLI éœ€è¦ TTYï¼›Gateway ä½¿ç”¨ WezTerm çª—æ ¼æ‰§è¡Œã€‚

### é­”æ³•å…³é”®è¯

| å…³é”®è¯ | åŠ¨ä½œ | æè¿° |
|--------|------|------|
| `@deep` | æ·±åº¦æ¨ç† | å¼ºåˆ¶ä½¿ç”¨ DeepSeek |
| `@review` | ä»£ç å®¡æŸ¥ | å¼ºåˆ¶ Gemini å®¡æŸ¥æ¨¡å¼ |
| `@docs` | æ–‡æ¡£ | æŸ¥è¯¢ Context7 |
| `@search` | ç½‘ç»œæœç´¢ | è§¦å‘ç½‘ç»œæœç´¢ |
| `@all` | å¤š Provider | æŸ¥è¯¢å¤šä¸ª Provider |

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
~/.local/share/codex-dual/
â”œâ”€â”€ bin/                        # CLI å‘½ä»¤
â”‚   â”œâ”€â”€ ccb-gateway             # Gateway ç®¡ç†
â”‚   â”œâ”€â”€ ccb-monitor             # å®æ—¶æ´»åŠ¨ç›‘æ§
â”‚   â”œâ”€â”€ ccb-ask                 # æ™ºèƒ½è·¯ç”±å‘½ä»¤
â”‚   â”œâ”€â”€ ccb-agent               # Agent æ‰§è¡Œ
â”‚   â””â”€â”€ cask, gask, dskask...   # Provider ä¸“ç”¨å‘½ä»¤
â”‚
â”œâ”€â”€ lib/                        # æ ¸å¿ƒæ¨¡å—
â”‚   â”œâ”€â”€ unified_router.py       # æ™ºèƒ½è·¯ç”±å¼•æ“
â”‚   â”œâ”€â”€ gateway_client.py       # Gateway API å®¢æˆ·ç«¯
â”‚   â”‚
â”‚   â””â”€â”€ gateway/                # Gateway API æ¨¡å—
â”‚       â”œâ”€â”€ gateway_server.py   # FastAPI æœåŠ¡å™¨
â”‚       â”œâ”€â”€ gateway_api.py      # REST ç«¯ç‚¹
â”‚       â”œâ”€â”€ gateway_config.py   # é…ç½®
â”‚       â”œâ”€â”€ state_store.py      # SQLite æŒä¹…åŒ–
â”‚       â”œâ”€â”€ request_queue.py    # ä¼˜å…ˆçº§é˜Ÿåˆ—
â”‚       â”œâ”€â”€ models.py           # æ•°æ®æ¨¡å‹
â”‚       â””â”€â”€ backends/           # åç«¯å®ç°
â”‚           â”œâ”€â”€ http_backend.py
â”‚           â””â”€â”€ cli_backend.py
â”‚
â”œâ”€â”€ config/                     # é…ç½®
â”‚   â””â”€â”€ gateway.yaml            # Gateway é…ç½®
â”‚
â””â”€â”€ install.sh                  # å®‰è£…è„šæœ¬

~/.ccb_config/                  # ç”¨æˆ·é…ç½®
â”œâ”€â”€ unified-router.yaml         # è·¯ç”±è§„åˆ™
â””â”€â”€ gateway.db                  # Gateway çŠ¶æ€æ•°æ®åº“
```

---

## ğŸ”§ å®‰è£…

### å‰ç½®æ¡ä»¶

- **Python 3.9+**
- **WezTerm**ï¼ˆæ¨èï¼‰æˆ– tmux
- Provider CLIï¼š`claude`, `codex`, `gemini`, `opencode`, `deepseek`, `kimi`, `qwen`

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/LeoLin990405/ai-router-ccb.git ~/.local/share/codex-dual

# è¿è¡Œå®‰è£…
cd ~/.local/share/codex-dual && ./install.sh

# æ·»åŠ åˆ° PATH
export PATH="$HOME/.local/share/codex-dual/bin:$PATH"
```

### ç¯å¢ƒå˜é‡

```bash
export CCB_USE_GATEWAY=1            # å¯ç”¨ Gateway æ¨¡å¼ï¼ˆé»˜è®¤ï¼‰
export CCB_GATEWAY_PORT=8765        # Gateway ç«¯å£
export CCB_AUTO_OPEN_AUTH=1         # è‡ªåŠ¨æ‰“å¼€è®¤è¯ç»ˆç«¯
export CCB_DEBUG=1                  # å¯ç”¨è°ƒè¯•æ—¥å¿—
```

### éªŒè¯å®‰è£…

```bash
# å¯åŠ¨ Gateway
ccb-gateway start

# æ£€æŸ¥çŠ¶æ€
ccb-gateway status

# å¯åŠ¨ç›‘æ§
ccb-gateway monitor --pane

# æµ‹è¯•è¯·æ±‚
curl -X POST http://localhost:8765/api/ask \
  -H "Content-Type: application/json" \
  -d '{"provider": "codex", "message": "ä½ å¥½"}'
```

---

## ğŸ“Š æ€§èƒ½

### Provider å»¶è¿Ÿï¼ˆå…¸å‹å€¼ï¼‰

| Provider | å¹³å‡å»¶è¿Ÿ | ç”¨é€” |
|----------|----------|------|
| Gemini | ~2.5s | å¿«é€Ÿå“åº” |
| Codex | ~5.8s | ä»£ç ç”Ÿæˆ |
| Kimi | ~5.0s | ä¸­æ–‡å†…å®¹ |
| Qwen | ~11s | å¤šè¯­è¨€ |
| OpenCode | ~23s | é€šç”¨ç¼–ç  |
| iFlow | ~40s | å·¥ä½œæµè‡ªåŠ¨åŒ– |
| DeepSeek | ~48s | æ·±åº¦æ¨ç† |

---

## ğŸ™ è‡´è°¢

- **[bfly123/claude_code_bridge](https://github.com/bfly123/claude_code_bridge)** - åŸå§‹å¤š AI åä½œæ¡†æ¶
- **[Grafbase/Nexus](https://github.com/grafbase/nexus)** - AI ç½‘å…³æ¶æ„çµæ„Ÿ

---

## ğŸ‘¥ è´¡çŒ®è€…

- **Leo** ([@LeoLin990405](https://github.com/LeoLin990405)) - é¡¹ç›®è´Ÿè´£äºº
- **Claude** (Anthropic Claude Opus 4.5) - æ¶æ„ä¸å®ç°

---

## ğŸ“„ è®¸å¯è¯

MIT License - è§ [LICENSE](LICENSE)

---

<p align="center">
  <sub>äººä¸ AI åä½œæ„å»º</sub>
  <br>
  <sub>â­ å¦‚æœè§‰å¾—æœ‰ç”¨ï¼Œè¯·ç»™ä¸ª Starï¼</sub>
</p>
